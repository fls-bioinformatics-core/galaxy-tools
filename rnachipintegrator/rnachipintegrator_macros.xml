<macros>
  <token name="@VERSION@">0.5.0</token>
  <xml name="requirements">
    <requirements>
      <requirement type="package" version="0.7.5">python_xlwt</requirement>
      <requirement type="package" version="0.9.3">python_xlrd</requirement>
      <requirement type="package" version="1.7.1">python_xlutils</requirement>
      <requirement type="package" version="0.5.0-alpha.4">rnachipintegrator</requirement>
    </requirements>
  </xml>
  <xml name="version_command">
        <version_command>RnaChipIntegrator --version</version_command>
  </xml>
  <xml name="analysis_options">
    <param name="cutoff" type="integer" value="1000000" optional="true"
	   label="Maximum distance between feature/peak pair
		  before it is omitted from the analyses (bp)"
	   help="Leave blank for no limit (--cutoff)" />
    <param name="number" type="integer" value="4" optional="true"
	   label="Maximum number of feature/peak pairs to report from
		  the analyses"
	   help="Leave blank for no limit (--number)" />
    <param name="promoter_start" type="integer" value="-1000" optional="true"
	   label="Start of promoter region with respect to gene TSS" />
    <param name="promoter_end" type="integer" value="100" optional="true"
	   label="End of promoter region with respect to gene TSS" />
    <param name="edge" type="select"
	   label="Genomic feature edges to consider in distance calculations"
	   help="(--edge)">
      <option value="tss" selected="true">TSS only</option>
      <option value="both">Nearest of TSS or TES</option>
    </param>
  </xml>
  <xml name="output_options">
    <conditional name="output">
      <param name="compact_format" type="boolean" checked="true"
	     truevalue="true" falsevalue="false"
	     label="Use 'compact' output format"
	     help="Puts all hits for each peak or feature on a single line
		   (--compact)" />
      <when value="true">
      </when>
      <when value="false">
	<param name="pad_output" type="boolean" checked="false"
	       truevalue="--pad" falsevalue=""
	       label="Output same number of lines for each peak"
	       help="Add blank lines in output for peaks with fewer than
		     maximum number of hits (--pad)" />
	<param name="summary" type="boolean" checked="false"
	       truevalue="true" falsevalue="false"
	       label="Output additional 'summary' datasets"
	       help="Summaries contain only the top hits for each peak
		     or feature (--summary)" />
      </when>
    </conditional>
    <conditional name="features">
      <param name="set_feature_type" type="boolean" checked="false"
	     truevalue="true" falsevalue="false"
	     label="Explicitly set feature type in output"
	     help="Use explicit feature type (e.g. 'gene') rather than
		   generic name 'feature' (--feature)" />
      <when value="true">
	<param name="feature_type" type="select"
	       label="Type of genomic features">
	  <option value="gene">Genes</option>
	  <option value="transcript">Transcripts</option>
	</param>
      </when>
      <when value="false">
      </when>
    </conditional>
    <param name="results_as_zip" type="boolean"
	   checked="false" truevalue="yes"
           label="Put output tab-delimited files into a single zip archive" />
  </xml>
  <xml name="citations">
    <citations>
      <citation type="doi">10.5281/zenodo.32863</citation>
    </citations>
  </xml>
</macros>
